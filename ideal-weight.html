<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ideal Weight | NovaHealth Pro</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    
    <style>
        @media (max-width: 768px) {
            .nav-menu {
                position: fixed;
                top: 80px;
                left: -100%;
                width: 80%;
                height: calc(100vh - 80px);
                background: #0F1117;
                border-right: 1px solid #1E293B;
                transition: 0.3s ease;
                padding: 2rem 1.5rem;
                z-index: 100;
            }
            .nav-menu.active { left: 0; }
            .nav-overlay {
                position: fixed;
                top: 80px;
                left: 0;
                width: 100%;
                height: calc(100vh - 80px);
                background: rgba(0,0,0,0.7);
                backdrop-filter: blur(4px);
                z-index: 90;
                opacity: 0;
                visibility: hidden;
                transition: 0.3s ease;
            }
            .nav-overlay.active {
                opacity: 1;
                visibility: visible;
            }
            .nav-link {
                display: block;
                padding: 1rem;
                font-size: 1.1rem;
                border-bottom: 1px solid #1E293B;
            }
        }
        
        @keyframes dumbbell {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }
        
        .ideal-icon {
            animation: dumbbell 2s ease-in-out infinite;
        }
    </style>
</head>
<body class="bg-[#0A0B0E] font-['Inter']">
    <!-- Navbar SAMA -->
    <nav class="fixed w-full z-50 bg-[#0A0B0E]/95 backdrop-blur-xl border-b border-[#1E293B]">
        <div class="container mx-auto px-4">
            <div class="flex items-center justify-between h-20">
                <div class="flex items-center space-x-2 sm:space-x-3">
                    <div class="w-8 h-8 sm:w-10 sm:h-10 bg-gradient-to-br from-[#3B82F6] to-[#2563EB] rounded-xl flex items-center justify-center">
                        <i class="fas fa-cube text-white text-sm sm:text-lg"></i>
                    </div>
                    <span class="text-lg sm:text-xl font-bold text-white">Nova<span class="text-[#3B82F6]">Health</span></span>
                </div>

                <div class="hidden md:flex items-center space-x-1">
                    <a href="index.html" class="nav-link">Dashboard</a>
                    <a href="bmi.html" class="nav-link">BMI</a>
                    <a href="carbon.html" class="nav-link">Carbon</a>
                    <a href="bmr.html" class="nav-link">BMR</a>
                    <a href="ideal-weight.html" class="nav-link active">Ideal Weight</a>
                    <a href="analytics.html" class="nav-link">Analytics</a>
                    <a href="history.html" class="nav-link">History</a>
                </div>

                <div class="flex items-center space-x-2 sm:space-x-3">
                    <button class="w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-[#1E293B] flex items-center justify-center">
                        <i class="fas fa-bell text-[#94A3B8] text-sm sm:text-base"></i>
                    </button>
                    <button id="menuBtn" class="md:hidden w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-[#1E293B] flex items-center justify-center">
                        <i class="fas fa-bars text-[#94A3B8] text-lg"></i>
                    </button>
                    <div class="hidden sm:block w-8 h-8 sm:w-10 sm:h-10 rounded-xl bg-gradient-to-br from-[#3B82F6] to-[#2563EB] flex items-center justify-center">
                        <span class="text-white font-medium text-sm">AP</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div id="overlay" class="nav-overlay md:hidden"></div>
    <div id="mobileMenu" class="nav-menu md:hidden">
        <div class="flex flex-col space-y-2">
            <a href="index.html" class="nav-link text-[#94A3B8]"><i class="fas fa-home w-6 mr-3"></i>Dashboard</a>
            <a href="bmi.html" class="nav-link text-[#94A3B8]"><i class="fas fa-weight-scale w-6 mr-3"></i>BMI</a>
            <a href="carbon.html" class="nav-link text-[#94A3B8]"><i class="fas fa-leaf w-6 mr-3"></i>Carbon</a>
            <a href="bmr.html" class="nav-link text-[#94A3B8]"><i class="fas fa-fire w-6 mr-3"></i>BMR</a>
            <a href="ideal-weight.html" class="nav-link active bg-[#1E293B] text-[#8B5CF6]"><i class="fas fa-dumbbell w-6 mr-3"></i>Ideal Weight</a>
            <a href="analytics.html" class="nav-link text-[#94A3B8]"><i class="fas fa-chart-line w-6 mr-3"></i>Analytics</a>
            <a href="history.html" class="nav-link text-[#94A3B8]"><i class="fas fa-history w-6 mr-3"></i>History</a>
        </div>
    </div>

    <!-- Page Header -->
    <div class="pt-20 bg-gradient-to-r from-[#8B5CF6]/10 to-transparent border-b border-[#1E293B]">
        <div class="container mx-auto px-4 py-6 sm:py-8">
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl sm:text-3xl font-bold text-white">Ideal <span class="text-[#8B5CF6]">Weight</span></h1>
                    <p class="text-[#94A3B8] text-sm sm:text-base mt-1">Cari tahu berat badan idealmu dengan berbagai formula</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Content -->
    <main class="container mx-auto px-4 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
            <!-- Form -->
            <div class="calculator-card">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-10 h-10 sm:w-12 sm:h-12 bg-[#8B5CF6]/20 rounded-xl flex items-center justify-center ideal-icon">
                        <i class="fas fa-dumbbell text-[#8B5CF6] text-lg sm:text-xl"></i>
                    </div>
                    <div>
                        <h2 class="text-lg sm:text-xl font-bold text-white">Data Kamu</h2>
                        <p class="text-[#64748B] text-xs sm:text-sm">Masukkan tinggi dan gender</p>
                    </div>
                </div>
                
                <div class="space-y-4">
                    <input type="number" id="tinggiIdeal" class="calculator-input w-full p-3 bg-[#1E293B] rounded-xl" placeholder="Tinggi (cm)" value="170">
                    <select id="genderIdeal" class="calculator-input w-full p-3 bg-[#1E293B] rounded-xl">
                        <option value="male">Laki-laki</option>
                        <option value="female">Perempuan</option>
                    </select>
                    <button onclick="hitungIdeal()" class="w-full bg-gradient-to-r from-[#8B5CF6] to-[#7C3AED] text-white py-4 rounded-xl font-medium">
                        <i class="fas fa-calculator mr-2"></i>Hitung Berat Ideal
                    </button>
                </div>
            </div>

            <!-- Result -->
            <div class="calculator-card">
                <div class="flex items-center space-x-3 mb-6">
                    <div class="w-10 h-10 sm:w-12 sm:h-12 bg-[#8B5CF6]/20 rounded-xl flex items-center justify-center">
                        <i class="fas fa-weight-scale text-[#8B5CF6] text-lg sm:text-xl"></i>
                    </div>
                    <div>
                        <h2 class="text-lg sm:text-xl font-bold text-white">Hasil</h2>
                        <p class="text-[#64748B] text-xs sm:text-sm">Berat ideal untukmu</p>
                    </div>
                </div>
                
                <div id="idealResult" class="hidden"></div>
                <div id="emptyIdealResult" class="text-center py-12">
                    <div class="w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-[#8B5CF6]/20 rounded-full mx-auto mb-4">
                        <i class="fas fa-dumbbell text-[#8B5CF6] text-3xl sm:text-4xl"></i>
                    </div>
                    <p class="text-[#E2E8F0]">Masukkan tinggi badanmu</p>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Mobile menu sama
        document.addEventListener('DOMContentLoaded', function() {
            const menuBtn = document.getElementById('menuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('overlay');
            
            if (menuBtn && mobileMenu && overlay) {
                menuBtn.addEventListener('click', function() {
                    mobileMenu.classList.toggle('active');
                    overlay.classList.toggle('active');
                    const icon = menuBtn.querySelector('i');
                    icon.classList.toggle('fa-bars');
                    icon.classList.toggle('fa-times');
                });
                
                overlay.addEventListener('click', function() {
                    mobileMenu.classList.remove('active');
                    overlay.classList.remove('active');
                    const icon = menuBtn.querySelector('i');
                    icon.classList.remove('fa-times');
                    icon.classList.add('fa-bars');
                });
            }
        });

        function hitungIdeal() {
            const tinggi = parseFloat(document.getElementById('tinggiIdeal').value);
            const gender = document.getElementById('genderIdeal').value;
            
            if (!tinggi) {
                alert('Masukkan tinggi badan!');
                return;
            }
            
            // Rumus Broca
            let ideal;
            if (gender === 'male') {
                ideal = (tinggi - 100) - ((tinggi - 100) * 0.1);
            } else {
                ideal = (tinggi - 100) - ((tinggi - 100) * 0.15);
            }
            
            const min = ideal - 2;
            const max = ideal + 2;
            
            document.getElementById('emptyIdealResult').style.display = 'none';
            document.getElementById('idealResult').classList.remove('hidden');
            
            document.getElementById('idealResult').innerHTML = `
                <div class="space-y-6">
                    <div class="text-center p-6 bg-gradient-to-br from-[#8B5CF6]/30 to-[#7C3AED]/30 rounded-2xl">
                        <p class="text-[#94A3B8] text-sm">Berat Ideal</p>
                        <div class="text-5xl font-bold text-[#8B5CF6]">${ideal.toFixed(1)} kg</div>
                    </div>
                    
                    <div class="p-4 bg-[#1E293B] rounded-xl">
                        <p class="text-[#94A3B8] text-sm">Rentang Ideal</p>
                        <p class="text-white text-xl">${min.toFixed(1)} - ${max.toFixed(1)} kg</p>
                    </div>
                </div>
            `;
            
            // Save to history
            saveToHistory(ideal.toFixed(1), min.toFixed(1), max.toFixed(1));
            showNotif('âœ… Berat ideal dihitung!');
        }

        function saveToHistory(ideal, min, max) {
            let history = JSON.parse(localStorage.getItem('healthHistory') || '[]');
            history.unshift({
                id: Date.now(),
                type: 'Ideal Weight',
                value: ideal + ' kg',
                detail: `Rentang: ${min}-${max} kg`,
                timestamp: new Date().toISOString()
            });
            if (history.length > 30) history.pop();
            localStorage.setItem('healthHistory', JSON.stringify(history));
        }

        function showNotif(msg) {
            alert(msg);
        }
    </script>
</body>
</html>